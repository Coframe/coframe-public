var Coframejs;(()=>{"use strict";var e={d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{getVariants:()=>getVariants,measureEngagement:()=>measureEngagement});var __awaiter=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof t?e:new t((function(n){n(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,n||[])).next())}))},__generator=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(c){return function(s){return function step(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},getRandomVariant=function(e){if(e&&0!==e.length)return e[Math.floor(Math.random()*e.length)]};function replaceHTMLContent(e,n,t,r){return void 0===r&&(r=!1),__awaiter(this,void 0,void 0,(function(){var o,i,a,c,s=this;return __generator(this,(function(u){switch(u.label){case 0:if(o=!1,containsHTML(e)||containsHTML(n))setTimeout((function(){var r=document.createElement("div");r.innerHTML=e;var i=document.createElement("div");i.innerHTML=n;for(var a,c=document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT,null);(a=c.nextNode())&&a.innerHTML.includes(e);)o=!0;a.parentElement&&function replaceNodeContent(e,n,t,r){for(var o=document.createDocumentFragment(),i=0,a=Array.from(e.childNodes);i<a.length;i++){var c=a[i];if(c.nodeType===Node.ELEMENT_NODE&&c instanceof Element&&c.outerHTML.includes(n.innerHTML)){c.setAttribute("coframe-id",r);var s=c.outerHTML.replace(n.innerHTML,t.innerHTML),u=document.createElement("div");u.innerHTML=s,u.firstChild&&o.appendChild(u.firstChild)}else o.appendChild(c)}e.textContent="",e.appendChild(o)}(a.parentElement,r,i,t)}),0);else for(i=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,null),a=new RegExp(e,"g"),c=void 0;c=i.nextNode();)c.parentElement&&"script"!==c.parentElement.tagName.toLowerCase()&&c.textContent&&c.textContent.search(a)>=0&&(c.textContent=c.textContent.replace(a,n),c.parentElement.setAttribute("coframe-id",t),o=!0);return o||r?[3,2]:[4,observeDomAndRetry((function(){return __awaiter(s,void 0,void 0,(function(){return __generator(this,(function(r){switch(r.label){case 0:return[4,replaceHTMLContent(e,n,t,!0)];case 1:return[2,r.sent()]}}))}))}))];case 1:o=u.sent(),u.label=2;case 2:return[2,o]}}))}))}function containsHTML(e){return/<[a-z][\s\S]*>/i.test(e)}var observeDomAndRetry=function(e,n){return void 0===n&&(n=1500),__awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(t){return[2,new Promise((function(t){var r=Date.now(),o=new MutationObserver((function(o,i){return __awaiter(void 0,void 0,void 0,(function(){var a,c,s;return __generator(this,(function(u){switch(u.label){case 0:Date.now()-r>n&&(i.disconnect(),t(!1)),a=0,c=o,u.label=1;case 1:return a<c.length?"childList"===(s=c[a]).type&&s.addedNodes.length>0?[4,e()]:[3,3]:[3,4];case 2:u.sent()&&(i.disconnect(),t(!0)),u.label=3;case 3:return a++,[3,1];case 4:return[2]}}))}))}));o.observe(document,{childList:!0,subtree:!0}),setTimeout((function(){o.disconnect(),t(!1)}),n)}))]}))}))};function getGASessionData(e){return void 0===e&&(e=0),new Promise((function(n){var t=document.cookie.match(/_ga_[^=]+=GS\d\.\d\.(.+?)(?:;|$)/);if(t&&t[1]){var r=t[1].split("."),o=r.shift(),i=r.shift(),a=i?parseInt(i,10):0;n({ga_session_id:o,ga_session_number:isNaN(a)?0:a})}else e<10?setTimeout((function(){return n(getGASessionData(e+1))}),200):n({ga_session_id:"",ga_session_number:0})}))}var t="coframe.user.token",getUUID=function(){return window.crypto&&crypto.randomUUID?crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},getCookie=function(e){var n=("; "+document.cookie).split("; ".concat(e,"="));return 2===n.length?n[1].split(";")[0]:""},setCookie=function(e,n){var t=new Date;t.setTime(t.getTime()+3456e7),document.cookie=e+"="+n+";path=/;expires="+t.toUTCString()},getCoframeUUID=function(){var e=getCookie(t);return e||(e=getUUID()),setCookie(t,e),e},getXPath=function(e){for(var n="";e&&1==e.nodeType;e=e.parentNode)if(e.parentNode){var t=Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1,r=t>1?"["+t.toString()+"]":"";n="/"+e.tagName.toLowerCase()+r+n}return n},getCssSelector=function(e){if(null===e)return"";for(var n=[];e&&e.nodeType===Node.ELEMENT_NODE;){var t=e.nodeName.toLowerCase();if(e.id){t+="#"+e.id,n.unshift(t);break}for(var r=e,o=1;r=r.previousElementSibling;)r.nodeName.toLowerCase()==t&&o++;1!=o&&(t+=":nth-of-type("+o+")"),n.unshift(t),e=e.parentNode}return n.join(" > ")},api_awaiter=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof t?e:new t((function(n){n(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,n||[])).next())}))},api_generator=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(c){return function(s){return function step(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};function sendEventToBackend(e,n){return void 0===n&&(n="events"),api_awaiter(this,void 0,void 0,(function(){var t;return api_generator(this,(function(r){switch(r.label){case 0:t="https://ingest.coframe.com/ingest/v1/".concat(n,"/").concat(window.COFRAME_PAGE_ID,"/"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 2:return[2,r.sent().json()];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))}function sendPageEngagementEvent(e,n,t){var r,o=t.isEngaged,i=t.sessionId,a=t.duration,c=void 0===a?0:a;return api_awaiter(this,void 0,void 0,(function(){var t,a,s,u,d;return api_generator(this,(function(l){return o||"click"!==e||(o=!0,sendSessionEvent(i,"session_start")),t=n.clientX+window.scrollX,a=n.clientY+window.scrollY,s=window.innerWidth,u=window.innerHeight,(d=null===(r=n.target)||void 0===r?void 0:r.closest("a, button, input, [onclick], [href]"))||(d=n.target),sendEventToBackend({type:e,coframe_page_id:window.COFRAME_PAGE_ID,session_id:i,content:{html:d.outerHTML,xpath:getXPath(d),selector:getCssSelector(d),position:{x:Math.round(t),y:Math.round(a)},screen_size:{width:s,height:u},"duration-ms":Math.round(c)}}),[2]}))}))}function fetchVariants(e,n,t,r){return api_awaiter(this,void 0,void 0,(function(){var o,i,a,c,s,u,d,l,f;return api_generator(this,(function(p){switch(p.label){case 0:return o="".concat("https://coframe-variants.s3.us-west-2.amazonaws.com/variants/v1","/").concat(e,".json"),[4,fetch(o)];case 1:return(i=p.sent()).ok?[4,i.json()]:[2,{variants:t||[],newCoframeIds:n}];case 2:for(a=p.sent().coframes,c=[],s=[],u=function(e){var n=null==t?void 0:t.find((function(n){return n.coframe_id===e.id}));if(!e.variants)return"continue";var r=e.variants.find((function(e){return e.id===(null==n?void 0:n.id)}));if(!r&&!(r=getRandomVariant(e.variants)))return"continue";c.push({variant_id:r.id,coframe_id:e.id}),s.push({id:r.id,original:e.original,copy:r.copy,coframe_id:e.id,copy_id:r.id,xpath:e.xpath,selector:e.selector})},d=0,l=a;d<l.length;d++)f=l[d],u(f);return n=c,null==r||r({variants:s,coframeIds:n}),[2,{variants:s,newCoframeIds:c}]}}))}))}var session_awaiter=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof t?e:new t((function(n){n(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,n||[])).next())}))},session_generator=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(c){return function(s){return function step(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};function sendSessionEvent(e,n){sendEventToBackend({type:n,coframe_page_id:window.COFRAME_PAGE_ID,session_id:e})}const r=function useLocalStorage(e,n){var t=function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(t){return console.warn("Error reading localStorage key “".concat(e,"”:"),t),n}}();return{value:t,setValue:function(n){try{var r=n instanceof Function?n(t):n;window.localStorage.setItem(e,JSON.stringify(r)),t=r}catch(n){console.warn("Error setting localStorage key “".concat(e,"”:"),n)}},removeValue:function(){try{window.localStorage.removeItem(e),t=n}catch(n){console.warn("Error removing localStorage key “".concat(e,"”:"),n)}}}};var o,i,src_awaiter=function(e,n,t,r){return new(t||(t=Promise))((function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof t?e:new t((function(n){n(e)}))}(e.value).then(fulfilled,rejected)}step((r=r.apply(e,n||[])).next())}))},src_generator=function(e,n){var t,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function verb(c){return function(s){return function step(c){if(t)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(t=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(e,a)}catch(e){c=[6,e],r=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},a=1e4,c=!1,s=[],u=getUUID(),d=[];function getVariants(e){return src_awaiter(this,void 0,void 0,(function(){var n,t,o,i,a,c;return src_generator(this,(function(u){switch(u.label){case 0:return n=r("cf"),t=n.value,o=n.setValue,t?(s=t.coframeIds,fetchVariants(e,s,t.variants,o),[2,t.variants]):[4,fetchVariants(e,s,void 0,o)];case 1:return i=u.sent(),a=i.variants,c=i.newCoframeIds,s=c,[2,a]}}))}))}function measureEngagement(){var e=(new Date).getTime()-(o?o.getTime():0);!c&&e>=a?(c=!0,sendSessionEvent(u,"session_start")):setTimeout(measureEngagement,a-e)}function updateViewedVariants(e){return function wrapped(){null==e||e.filter((function(e){var n=e.coframe_id;return!d.includes(n)})).forEach((function(e){var n=e.coframe_id;document.querySelectorAll('[coframe-id="'.concat(n,'"]')).forEach((function(e){(function isElementVisible(e){var n=e.getBoundingClientRect();return n.top>=0&&n.bottom<=window.innerHeight})(e)&&(e.setAttribute("coframe-experienced","true"),d.push(n),sendEventToBackend({type:"view",coframe_page_id:window.COFRAME_PAGE_ID,session_id:u,coframe_id:n}))}))}))}}function unhideBody(){var e=document.getElementsByTagName("head")[0];if(e){var n=document.getElementById("coframe-body");n&&e.removeChild(n)}}function replaceVariants(e,n){return src_awaiter(this,void 0,void 0,(function(){var t,r,c,d,l,f,p,v,m,h,g,w,y;return src_generator(this,(function(b){switch(b.label){case 0:o=new Date,t=[],b.label=1;case 1:b.trys.push([1,6,,7]),r=0,c=e,b.label=2;case 2:return r<c.length?(d=c[r],l=d.original,f=d.copy,p=d.coframe_id,v=d.copy_id,m=d.xpath,h=d.selector,g=!1,h&&(g=function(e,n){var t=document.querySelector(e);return t?(t.textContent=n,!0):(console.error('css selector not found: "'.concat(e,'"')),!1)}(h,f),g)||m&&(g=function(e,n){var t=document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return t?(t.textContent=n,!0):(console.error('xpath not found: "'.concat(e,'"')),!1)}(m,f),g)?[3,4]:l&&0!==l.length?[4,replaceHTMLContent(l,f,p)]:(console.error("[Coframe] Original text is empty"),[3,4])):[3,5];case 3:if(g=b.sent())return[3,4];g||t.push({coframe_page_id:n,coframe_id:p,variant_id:v,session_id:u,type:"Original_Not_Found",time:new Date,description:window.location.href}),b.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:return w=b.sent(),console.error("[Coframe]",w),t.push({coframe_page_id:n,variant_id:"",coframe_id:"",session_id:u,type:"Failed_To_Replace_Text",time:new Date,description:w.toString()}),[3,7];case 7:for(getGASessionData().then((function(e){var n,t;i=e,n=getCookie("cvc"),t=n?parseInt(n,10)+1:1,setCookie("cvc",t.toString()),function createSession(e,n,t,r,o,i){return session_awaiter(this,void 0,void 0,(function(){return session_generator(this,(function(a){switch(a.label){case 0:return[4,fetch("https://ingest.coframe.com/ingest/v1/session_result/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({coframe_page_id:window.COFRAME_PAGE_ID,session_id:e,coframes:n,method:"scripts",metadata:{local_time:t,languages:void 0!==r?r.languages||r.language:[],platform:void 0!==r?r.platform||r.userAgentData&&r.userAgentData.platform:"",referrer:o,user_token:getCoframeUUID(),ga_session_id:null==i?void 0:i.ga_session_id,ga_session_number:null==i?void 0:i.ga_session_number}})})];case 1:return[2,a.sent().json()]}}))}))}(u,s,o,navigator,document.referrer,i)})),sendSessionEvent(u,"page_view"),setTimeout((function(){return measureEngagement()}),a),y=0;y<t.length;y++)sendEventToBackend(t[y],"exceptions");return[2]}}))}))}var l={};l.init=function(){return src_awaiter(this,void 0,void 0,(function(){var e,n,t,r,o;return src_generator(this,(function(i){switch(i.label){case 0:return(e=window.COFRAME_PAGE_ID)?(function hideBody(){var e=document.getElementsByTagName("head")[0];if(e){var n=document.createElement("style");n.id="coframe-body",n.innerHTML="body {opacity: 0 !important}",e.appendChild(n)}setTimeout((function(){var e=document.getElementsByTagName("head")[0];if(e){var n=document.getElementById("coframe-body");n&&e.removeChild(n)}}),500)}(),new URLSearchParams(window.location.search).has("coframe_editor_id")?(n=function(){if(new URLSearchParams(window.location.search).has("coframe_editor_id")){var e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/@coframe/coframe-editor/dist/ce.min.js",document.head.appendChild(e)}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),[3,3]):[3,1]):[2];case 1:return e?[4,getVariants(e)]:(sendEventToBackend({coframe_page_id:"",variant_id:"",coframe_id:"",type:"No_Coframe_Page_ID",time:new Date,session_id:"",description:window.location.href},"exceptions"),[2]);case 2:t=i.sent(),document.body?(replaceVariants(t,e),unhideBody()):document.addEventListener("DOMContentLoaded",(function(){replaceVariants(t,e),unhideBody()})),window.addEventListener("beforeunload",(function(){sendSessionEvent(u,"session_end")})),document.addEventListener("visibilitychange",measureEngagement),setTimeout(measureEngagement,a),document.addEventListener("coframe:dom-renderer:complete",updateViewedVariants(t)),document.addEventListener("scroll",updateViewedVariants(t)),document.dispatchEvent(new CustomEvent("coframe:dom-renderer:complete",{})),document.addEventListener("click",(function(e){return sendPageEngagementEvent("click",e,{isEngaged:c,sessionId:u})})),document.addEventListener("mouseover",(function(){r=Date.now()})),document.addEventListener("mouseout",(function(e){if(r){var n=Date.now()-r;n>=2e3&&sendPageEngagementEvent("hover",e,{isEngaged:c,sessionId:u,duration:n})}})),i.label=3;case 3:return o=null,document.addEventListener("selectionchange",(function(){o&&clearTimeout(o),o=setTimeout((function(){var e=document.getSelection();if(e&&e.toString().length>0){var n=e.getRangeAt(0),t=n.getBoundingClientRect(),r=n.startContainer.parentNode;!function sendTextHighlightEvent(e,n,t,r){return api_awaiter(this,void 0,void 0,(function(){var o,i,a;return api_generator(this,(function(c){return o={x:t.left+window.scrollX,y:t.top+window.scrollY},i="",a="",r instanceof Element&&(i=getXPath(r),a=getCssSelector(r)),sendEventToBackend({type:"highlight_text",coframe_page_id:window.COFRAME_PAGE_ID,session_id:n,time:new Date,content:{xpath:i,selector:a,position:{x:Math.round(o.x),y:Math.round(o.y)},screen_size:{width:window.innerWidth,height:window.innerHeight}},label:e}),[2]}))}))}(e.toString(),u,t,r)}}),500)})),[2]}}))}))},l.logCoframeConversion=function(e){sendEventToBackend({type:"conversion",coframe_page_id:window.COFRAME_PAGE_ID,session_id:u,label:e||""})},window.Coframe=l,l.init(),Coframejs=n})();